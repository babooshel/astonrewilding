<h1>Admin</h1>

<script type="module">
import { supabase } from "/js/supabase.js";

const { data: { user } } = await supabase.auth.getUser();
if (!user) location.href = "/login.html";

const { data } = await supabase
  .from("profiles")
  .select("role")
  .eq("id", user.id)
  .single();

if (data.role !== "admin") {
  document.body.innerHTML = "Access denied";
}
</script>
